{% extends 'base.html' %}
{% load static %}
{% block title %}Mi Perfil - Undersounds{% endblock %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'user/css/cuenta.css' %}">
{% endblock %}
{% block content %}

<div class="profile-container">
    <h1 class="profile-title">MI PERFIL</h1>

    <div class="profile-header">
        <img src="{% static 'images/default-avatar.jpg' %}" alt="Avatar" class="profile-avatar">
        <div class="profile-info">
            <div class="profile-name">
                {{ user.artist_name|default:user.get_full_name }}
            </div>
            <div class="profile-username">@{{ user.username }}</div>
            <div class="profile-bio">
                {{ user.bio|default:"Este usuario aún no tiene una biografía." }}
            </div>

            <div class="profile-stats">
                <div class="stat-item">
                    <div class="stat-number">24</div>
                    <div class="stat-label">Seguidores</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">156</div>
                    <div class="stat-label">Seguiendo</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Álbumes</div>
                </div>
            </div>
        </div>
        <a href="{% url 'configuracion' %}" class="edit-btn">Editar perfil</a>
    </div>

    <div class="profile-section">
        <h2 class="section-title">Información personal</h2>
        <div class="info-grid">
            <div class="info-item">
                <div class="info-label">Nombre completo</div>
                <div class="info-value">{{ user.first_name }} {{ user.last_name }}</div>
            </div>
            <div class="info-item">
                <div class="info-label">Email</div>
                <div class="info-value">{{ user.email }}</div>
            </div>
            <div class="info-item">
                <div class="info-label">Fecha de registro</div>
                <div class="info-value">{{ user.created_at|date:"d/m/Y" }}</div>
            </div>
            <div class="info-item">
                <div class="info-label">Género principal</div>
                <div class="info-value">{{ user.genre|default:"No especificado" }}</div>
            </div>
            <div class="info-item">
                <div class="info-label">País</div>
                <div class="info-value">{{ user.country|default:"-" }}</div>
            </div>
        </div>
    </div>

    <div class="profile-section">
        <h2 class="section-title">Mis álbumes</h2>
        <div class="purchases-grid">
            <!-- You can loop through user's albums if available -->
            <div class="purchase-card">
                <div class="purchase-title">Noches de verano</div>
                <div class="purchase-date">Publicado: 10/06/2023</div>
                <div class="purchase-price">€9.99</div>
            </div>
            <!-- Add your own dynamic album loop here later -->
        </div>
    </div>

    <div class="profile-section">
        <h2 class="section-title">Últimas compras</h2>
        <div class="purchases-grid">
            <div class="purchase-card">
                <div class="purchase-title">Midnights (Taylor Swift)</div>
                <div class="purchase-date">Comprado: 12/05/2023</div>
                <div class="purchase-price">€14.99</div>
            </div>
            <div class="purchase-card">
                <div class="purchase-title">Chromatica (Lady Gaga)</div>
                <div class="purchase-date">Comprado: 28/04/2023</div>
                <div class="purchase-price">€12.99</div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
