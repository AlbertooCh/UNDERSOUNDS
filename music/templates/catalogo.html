{% extends 'base.html' %}
{% load static %}
{% block title %}Catálogo - Undersounds{% endblock %}
{% block content %}
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .cuadrado {
            padding-top: 100%;
            width: 150px;
            height: 150px;
            border: 1px solid #000;
            display: inline-block;
            margin: 10px;
            padding: 10px;
            box-sizing: border-box;
            text-align: center;
        }
        .catalog {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            padding: 0 50px;
            max-width: 800px; /* Ancho máximo del contenedor */
            margin: 0 auto;
        }
        .album {
            width: calc(25% - 20px);
            margin: 10px;
            text-align: center;
            display: inline-block;
        }
        .album-title {
            margin-top: 5px;
            font-size: 1em;
            color: #333;
        }
        .titulo {
            font-size: 1em;
            color: #333;
            text-align: center;
            display: flex;
        }
    </style>
<body>
 <div id="cont" class="titulo"></div>
    <h2 class="title">Catálogo</h2>
    <button onclick="toggleMenu()">Buscar</button>
 <div class="cuadroBusqueda" id="cuadroBusqueda">
        <p>Selecciona el formato de busqueda:</p>
        <button>Por fecha</button>
        <button>Por nombre</button>
    </div>

    <div id="contenedor" class="catalog"></div>
    <script>
        fetch('/static/Tracks.json')
            .then(response => response.json())
            .then(data => {
                const contenedor = document.getElementById('contenedor');
                data.forEach(item => {
                   const albumDiv = document.createElement('div');
                    albumDiv.className = 'album';

                    const cuadradoDiv = document.createElement('div');
                    cuadradoDiv.className = 'cuadrado';

                    const titleP = document.createElement('p');
                    titleP.className = 'album-title';
                    titleP.textContent = item.title;

                    albumDiv.appendChild(cuadradoDiv);
                    albumDiv.appendChild(titleP);
                    albumDiv.addEventListener('click', () => {
                    window.location.href = '../music_detail/';
                });

                    contenedor.appendChild(albumDiv);
                });
            })
            .catch(error => console.error('Error al cargar el JSON:', error));
    </script>
<script>
        function toggleMenu() {
            const menu = document.getElementById('cuadroBusqueda');
            menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
        }
    </script>
</body>

{% endblock %}